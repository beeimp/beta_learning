# 4장 테이블 만들고 실습용 데이터 입력하기

## 1. 학습 날짜

- 2021년 7월 24일

## 2. 학습진도

- 4장 테이블 만들고 실습용 데이터 입력하기

## 3. 학습내용

### 데이터베이스 다루기

#### CREATE {DATABASE|SCHEMA} [IF NOT EXISTS] 데이터베이스명;

- `CREATE {DATABASE|SCHEMA}` - 데이터베이스(MySQL에서는 SCHEMA와 동일)를 생성하겠다는 의미
- `[IF NOT EXISTS]` - 데이터베이스가 존재하지 않은 경우
- `데이터베이스명` - 원하는 데이터베이스의 이름 작성
- `;` - 한 문장의 끝을 알리는 역할
- 예시
  ```sql
      CREATE DATABASE IF NOT EXISTS mywork;
  ```

#### DROP {DATABASE|SCHEMA} [IF EXISTS] 데이터베이스명;

- `DROP {DATABASE|SCHEMA}` - 데이터베이스(MySQL에서는 SCHEMA와 동일)를 삭제하겠다는 의미
- `[IF EXISTS] ` - 데이터베이스가 존재하는 경우
- `데이터베이스명` - 원하는 데이터베이스의 이름 작성
- `;` - 한 문장의 끝을 알리는 역할
- 예시
  ```sql
      DROP DATABASE IF EXISTS mywork;
  ```

#### USE 데이터베이스명;

- `USE` - 해당 데이터베이스를 사용
- 예시
  ```sql
      USE mywork;
  ```

### 테이블 다루기

#### 테이블 설계

- 테이블 설계 : 어떠한 정보 및 용도에 따라 컬럼을 결정하는 작업
- 정보 컬럼 정의
  |항목|컬럼명|데이터 타입|
  |--|--|--|
  |아이디|table_id|INT|
  |이름|name|VARCHAR(100)|
  |생성일|created_date|DATE|

#### 테이블 생성하기

- 테이블 생성도 `DDL의 CREATE 문` 사용
  ```sql
  CREATE TABLE [IF NOT EXISTS] 테이블명(
      컬럼1 데이터타입,
      컬럼2 데이터타입,
      컬럼3 데이터타입,
      ...
  );
  ```
- 구조 확인을 위한 `DESCRIBE 테이블명;` 입력
  - `DESCRIBE`대신 `DESC` 사용 가능
  ```sql
  DESCRIBE 테이블명;
  ```

##### 테이블 생성 시 주의사항 - 식별자(Identifier) 명명 규칙

- 길이
  - 최대 64글자까지 가능
- 사용 가능 문자
  - 0~9
  - 영문자
  - 한글
  - $
  - \_(언더 스코어)
- 예약어 사용 불가
  - VARCHAR와 같은 특별한 용도로 사용하는 예약어 사용 불가
- 대소문자 구분
  - Windows는 대소분자를 구분하지 않음
  - but, 리눅스나 유닉스에서는 대소문자를 구분하기 때문

##### 컬럼 생성 시 주의사항

- 컬럼 개수
  - 한 테이블에서 최대 4,096개까지 컬럼 생성 가능
- 컬럼명 중복 불가
  한 테이블에서 같은 컬럼명 사용 불가

##### 추가로 데이터베이스에서도 테이블을 포함해 객체명 중복 불가

#### 테이블 삭제하기

- 테이블 삭제도 데이터베이스 삭제처럼 `DROP` 문 사용
  ```sql
  DROP TABLE 테이블명;
  ```

### 컬럼의 제약 조건

- 제약조건 : 컬럼의 내용을 제한하는 조건

```sql
CREATE TABLE [IF NOT EXISTS] 테이블명(
    컬럼1 데이터타입 제약조건,
    컬럼2 데이터타입 제약조건,
    컬럼3 데이터타입 제약조건,
    ...
);
```

#### NULL 처리

- 대표적인 제약조건은 `NULL 처리`
- `NULL` : 데이터가 비어있음을 허용
- `NOT NULL` : 데이터가 비어있음을 허용하지 않음

```sql
CREATE TABLE [IF NOT EXISTS] 테이블명(
    컬럼1 데이터타입 NOT NULL, -- 꼭 데이터 들어가야함
    컬럼2 데이터타입 NULL, -- 비어 있어도 됨
    ...
);
```

#### 기본 키

- 기본 키(Primary Key) : 한 테이블에서 유일한 값이 들어가야 하는 컬럼에서 지정하는 제약조건

```sql
-- 방법 1
CREATE TABLE [IF NOT EXISTS] 테이블명(
    컬럼1 데이터타입 NOT NULL PRIMARY KEY, -- 기본키이며, 반드시 데이터가 있어야 함
    컬럼2 데이터타입 NULL,
    ...
);

-- 방법 2
CREATE TABLE [IF NOT EXISTS] 테이블명(
    컬럼1 데이터타입 NOT NULL,
    컬럼2 데이터타입 NULL,
    ...
    PRIMARY KEY (컬럼1)
    -- 또는
    CONSTRAINT PRIMARY KEY (컬럼1)
);

-- 방법 3
-- 기본 키 삭제
ALTER TABLE 테이블명
DROP PRIMARY KEY;

-- 기본 키 추가
ALTER TABLE 테이블명
ADD PRIMARY KEY (컬럼);
```

#### 기본 키 생성 시 주의사항

- 한 테이블에서 기본 키는 1개만 생성 가능
- 1개 이상의 컬럼으로 기본 키 생성 가능
- 기본 키 컬럼에는 NOT NULL 적용

## 4. 새롭게 알게된 사실(신선했던 것, 유용했던 점)

- 제약조건 중 기본키를 생성하는 여러 방법을 제시해주셔서 감사합니다.

## 5. 학습 리뷰

- 112페이지에서 글자를 진하게 표시하여 구분하신거 같은데, 대시나 테이블로 표시하면 더 자연스러울거 같습니다.
  - 예를 들어, **길이** 최대 64글자까지 가능합니다. -> **길이** - 최대 64글자까지 가능합니다.
- 126페이지의 4.5.1 실습용 테이블 생성하기에서 1번째 문장이 조금 어색하게 느껴집니다.
  - 3번째 문장을 '내려받습니다'에서 '내려받을 수 있습니다' 이렇게 수정하는건 어떨까하는 의견을 제시해봅니다.
- 137페이지의 `7.기본 키 생성과 삭제, 수정` 테이블에서 PRIMARY KEY (컬럼1, 컬럼2, ...) 이렇게 되어 있는데, (컬럼1, 컬럼2, ...) 모두 PRIMARY KEY가 된다는 건가요? (컬럼1) 이렇게 하나만 들어가는게 맞는건가요?
